const React = require('react');
const {
  useState,
  useEffect
} = React;
const {
  Box,
  Text,
  Newline
} = require('ink');
const BigText = require('ink-big-text');
const Gradient = require('ink-gradient');
const axios = require('axios');

// Spotify client required parameters

const MainView = props => {
  const [data, setData] = useState('');
  const [playlist, setPlaylist] = useState(null);
  useEffect(async () => {
    const temp = await axios.get('/me');
    setData(temp.data.display_name);
  }, []);
  useEffect(async () => {
    if (props.playlistId !== '') {
      const playlistInfo = await axios.get(`/playlists/${props.playlistId}`);
      setPlaylist(playlistInfo);
    }
  }, [props.playlistId]);
  return /*#__PURE__*/React.createElement(Box, {
    height: "100%",
    width: "100%",
    borderStyle: "single",
    flexDirection: "column",
    alignItems: "center",
    justifyContent: "center",
    padding: 2
  }, /*#__PURE__*/React.createElement(BigText, {
    text: playlist ? playlist.data.name : 'Playlist Name',
    font: "tiny"
  }), /*#__PURE__*/React.createElement(Tracks, {
    id: playlist ? props.playlistId : ''
  }));
};
const Tracks = props => {
  const [tracks, setTracks] = useState([]);
  useEffect(async () => {
    if (props.id !== '') {
      const temp = await axios.get(`/playlists/${props.id}/tracks`);
      setTracks(temp.data.items.map((item, i) => item.track));
      console.log(tracks);
    }
  }, [props.id]);
  return /*#__PURE__*/React.createElement(Box, {
    height: "30%",
    width: "100%",
    borderStyle: "single"
  }, props.id ? tracks : /*#__PURE__*/React.createElement(Text, null, "no tracks"));
};
module.exports = MainView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkJveCIsIlRleHQiLCJOZXdsaW5lIiwiQmlnVGV4dCIsIkdyYWRpZW50IiwiYXhpb3MiLCJNYWluVmlldyIsInByb3BzIiwiZGF0YSIsInNldERhdGEiLCJwbGF5bGlzdCIsInNldFBsYXlsaXN0IiwidGVtcCIsImdldCIsImRpc3BsYXlfbmFtZSIsInBsYXlsaXN0SWQiLCJwbGF5bGlzdEluZm8iLCJuYW1lIiwiVHJhY2tzIiwidHJhY2tzIiwic2V0VHJhY2tzIiwiaWQiLCJpdGVtcyIsIm1hcCIsIml0ZW0iLCJpIiwidHJhY2siLCJjb25zb2xlIiwibG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIk1haW5WaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9ID0gUmVhY3Q7XG5jb25zdCB7IEJveCwgVGV4dCwgTmV3bGluZSB9ID0gcmVxdWlyZSgnaW5rJyk7XG5jb25zdCBCaWdUZXh0ID0gcmVxdWlyZSgnaW5rLWJpZy10ZXh0Jyk7XG5jb25zdCBHcmFkaWVudCA9IHJlcXVpcmUoJ2luay1ncmFkaWVudCcpXG5jb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJylcblxuXG4vLyBTcG90aWZ5IGNsaWVudCByZXF1aXJlZCBwYXJhbWV0ZXJzXG5cbmNvbnN0IE1haW5WaWV3ID0gKHByb3BzKSA9PntcblxuICAgIGNvbnN0IFtkYXRhLHNldERhdGFdID0gdXNlU3RhdGUoJycpXG4gICAgY29uc3QgW3BsYXlsaXN0LHNldFBsYXlsaXN0XSA9IHVzZVN0YXRlKG51bGwpXG5cbiAgICB1c2VFZmZlY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wID0gYXdhaXQgYXhpb3MuZ2V0KCcvbWUnKVxuICAgICAgICBzZXREYXRhKHRlbXAuZGF0YS5kaXNwbGF5X25hbWUpXG4gICAgfSxbXSlcblxuICAgIHVzZUVmZmVjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmKHByb3BzLnBsYXlsaXN0SWQgIT09ICcnKXtcbiAgICAgICAgICAgIGNvbnN0IHBsYXlsaXN0SW5mbyA9IGF3YWl0IGF4aW9zLmdldChgL3BsYXlsaXN0cy8ke3Byb3BzLnBsYXlsaXN0SWR9YClcbiAgICAgICAgICAgIHNldFBsYXlsaXN0KHBsYXlsaXN0SW5mbylcbiAgICAgICAgfVxuICAgIH0sW3Byb3BzLnBsYXlsaXN0SWRdKVxuXG4gICAgcmV0dXJuKFxuICAgICAgICA8Qm94IGhlaWdodD17XCIxMDAlXCJ9IHdpZHRoPXtcIjEwMCVcIn0gYm9yZGVyU3R5bGU9J3NpbmdsZScgZmxleERpcmVjdGlvbj0nY29sdW1uJyBhbGlnbkl0ZW1zPSdjZW50ZXInIGp1c3RpZnlDb250ZW50PSdjZW50ZXInIHBhZGRpbmc9ezJ9PlxuICAgICAgICAgICAgPEJpZ1RleHRcbiAgICAgICAgICAgICAgdGV4dD0ge3BsYXlsaXN0ID8gcGxheWxpc3QuZGF0YS5uYW1lIDogJ1BsYXlsaXN0IE5hbWUnfVxuICAgICAgICAgICAgICBmb250PSd0aW55J1xuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxUcmFja3MgaWQ9e3BsYXlsaXN0ID8gcHJvcHMucGxheWxpc3RJZCA6ICcnfS8+XG5cbiAgICAgICAgPC9Cb3g+XG4gICAgKVxufVxuXG5jb25zdCBUcmFja3MgPSAocHJvcHMpID0+e1xuICAgIGNvbnN0IFt0cmFja3Msc2V0VHJhY2tzXSA9IHVzZVN0YXRlKFtdKVxuICAgIFxuICAgIHVzZUVmZmVjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIFxuICAgICAgICBpZihwcm9wcy5pZCAhPT0gJycpe1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB0ZW1wID0gYXdhaXQgYXhpb3MuZ2V0KGAvcGxheWxpc3RzLyR7cHJvcHMuaWR9L3RyYWNrc2ApXG4gICAgICAgICAgICBzZXRUcmFja3ModGVtcC5kYXRhLml0ZW1zLm1hcCgoaXRlbSxpKSA9PlxuICAgICAgICAgICAgICAgIGl0ZW0udHJhY2tcbiAgICAgICAgICAgICkpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0cmFja3MpXG4gICAgICAgIH1cbiAgICB9LFtwcm9wcy5pZF0pXG5cbiAgICByZXR1cm4oXG4gICAgICAgIDxCb3ggaGVpZ2h0PXtcIjMwJVwifSB3aWR0aD17XCIxMDAlXCJ9IGJvcmRlclN0eWxlPSdzaW5nbGUnPntwcm9wcy5pZCA/IHRyYWNrcyA6IDxUZXh0Pm5vIHRyYWNrczwvVGV4dD59PC9Cb3g+XG4gICAgKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1haW5WaWV3O1xuXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM5QixNQUFNO0VBQUVDLFFBQVE7RUFBRUM7QUFBVSxDQUFDLEdBQUdILEtBQUs7QUFDckMsTUFBTTtFQUFFSSxHQUFHO0VBQUVDLElBQUk7RUFBRUM7QUFBUSxDQUFDLEdBQUdMLE9BQU8sQ0FBQyxLQUFLLENBQUM7QUFDN0MsTUFBTU0sT0FBTyxHQUFHTixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQ3ZDLE1BQU1PLFFBQVEsR0FBR1AsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUN4QyxNQUFNUSxLQUFLLEdBQUdSLE9BQU8sQ0FBQyxPQUFPLENBQUM7O0FBRzlCOztBQUVBLE1BQU1TLFFBQVEsR0FBSUMsS0FBSyxJQUFJO0VBRXZCLE1BQU0sQ0FBQ0MsSUFBSSxFQUFDQyxPQUFPLENBQUMsR0FBR1gsUUFBUSxDQUFDLEVBQUUsQ0FBQztFQUNuQyxNQUFNLENBQUNZLFFBQVEsRUFBQ0MsV0FBVyxDQUFDLEdBQUdiLFFBQVEsQ0FBQyxJQUFJLENBQUM7RUFFN0NDLFNBQVMsQ0FBQyxZQUFZO0lBQ2xCLE1BQU1hLElBQUksR0FBRyxNQUFNUCxLQUFLLENBQUNRLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDbkNKLE9BQU8sQ0FBQ0csSUFBSSxDQUFDSixJQUFJLENBQUNNLFlBQVksQ0FBQztFQUNuQyxDQUFDLEVBQUMsRUFBRSxDQUFDO0VBRUxmLFNBQVMsQ0FBQyxZQUFZO0lBQ2xCLElBQUdRLEtBQUssQ0FBQ1EsVUFBVSxLQUFLLEVBQUUsRUFBQztNQUN2QixNQUFNQyxZQUFZLEdBQUcsTUFBTVgsS0FBSyxDQUFDUSxHQUFHLENBQUUsY0FBYU4sS0FBSyxDQUFDUSxVQUFXLEVBQUMsQ0FBQztNQUN0RUosV0FBVyxDQUFDSyxZQUFZLENBQUM7SUFDN0I7RUFDSixDQUFDLEVBQUMsQ0FBQ1QsS0FBSyxDQUFDUSxVQUFVLENBQUMsQ0FBQztFQUVyQixvQkFDSSxvQkFBQyxHQUFHO0lBQUMsTUFBTSxFQUFFLE1BQU87SUFBQyxLQUFLLEVBQUUsTUFBTztJQUFDLFdBQVcsRUFBQyxRQUFRO0lBQUMsYUFBYSxFQUFDLFFBQVE7SUFBQyxVQUFVLEVBQUMsUUFBUTtJQUFDLGNBQWMsRUFBQyxRQUFRO0lBQUMsT0FBTyxFQUFFO0VBQUUsZ0JBQ25JLG9CQUFDLE9BQU87SUFDTixJQUFJLEVBQUdMLFFBQVEsR0FBR0EsUUFBUSxDQUFDRixJQUFJLENBQUNTLElBQUksR0FBRyxlQUFnQjtJQUN2RCxJQUFJLEVBQUM7RUFBTSxFQUNYLGVBQ0Ysb0JBQUMsTUFBTTtJQUFDLEVBQUUsRUFBRVAsUUFBUSxHQUFHSCxLQUFLLENBQUNRLFVBQVUsR0FBRztFQUFHLEVBQUUsQ0FFN0M7QUFFZCxDQUFDO0FBRUQsTUFBTUcsTUFBTSxHQUFJWCxLQUFLLElBQUk7RUFDckIsTUFBTSxDQUFDWSxNQUFNLEVBQUNDLFNBQVMsQ0FBQyxHQUFHdEIsUUFBUSxDQUFDLEVBQUUsQ0FBQztFQUV2Q0MsU0FBUyxDQUFDLFlBQVk7SUFFbEIsSUFBR1EsS0FBSyxDQUFDYyxFQUFFLEtBQUssRUFBRSxFQUFDO01BRWYsTUFBTVQsSUFBSSxHQUFHLE1BQU1QLEtBQUssQ0FBQ1EsR0FBRyxDQUFFLGNBQWFOLEtBQUssQ0FBQ2MsRUFBRyxTQUFRLENBQUM7TUFDN0RELFNBQVMsQ0FBQ1IsSUFBSSxDQUFDSixJQUFJLENBQUNjLEtBQUssQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLElBQUksRUFBQ0MsQ0FBQyxLQUNqQ0QsSUFBSSxDQUFDRSxLQUFLLENBQ2IsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ1QsTUFBTSxDQUFDO0lBQ3ZCO0VBQ0osQ0FBQyxFQUFDLENBQUNaLEtBQUssQ0FBQ2MsRUFBRSxDQUFDLENBQUM7RUFFYixvQkFDSSxvQkFBQyxHQUFHO0lBQUMsTUFBTSxFQUFFLEtBQU07SUFBQyxLQUFLLEVBQUUsTUFBTztJQUFDLFdBQVcsRUFBQztFQUFRLEdBQUVkLEtBQUssQ0FBQ2MsRUFBRSxHQUFHRixNQUFNLGdCQUFHLG9CQUFDLElBQUksb0JBQWlCLENBQU87QUFFbEgsQ0FBQztBQUVEVSxNQUFNLENBQUNDLE9BQU8sR0FBR3hCLFFBQVEifQ==